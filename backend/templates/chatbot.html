{% extends "base.html" %}

{% block title %}TÆ° váº¥n AI - CareerGo{% endblock %}
{% block loading_text %}ğŸ¤– AI Ä‘ang suy nghÄ©...{% endblock %}

{% block content %}
<section class="page active" id="chatbot">
    <div style="max-width: 900px; margin: 2rem auto; padding-bottom: 4rem;">
        <h1 style="text-align: center; margin-bottom: 2rem;">ğŸ’¬ TÆ° váº¥n AI hÆ°á»›ng nghiá»‡p</h1>

        <div class="test-section"
            style="background: rgba(26, 60, 255, 0.1); border-color: rgba(26, 60, 255, 0.3); margin-bottom: 2rem;">
            <h3 style="margin-top: 0;">ğŸ“‹ Há»“ sÆ¡ cá»§a báº¡n</h3>
            <div id="chatContext" style="color: #9fb7ff;">ChÆ°a cÃ³ dá»¯ liá»‡u. Vui lÃ²ng lÃ m tráº¯c nghiá»‡m trÆ°á»›c.</div>
        </div>

        <div id="chatContainer"
            style="border: 1px solid rgba(30, 42, 68, 0.5); border-radius: 12px; overflow: hidden; display: flex; flex-direction: column; height: calc(100vh - 250px); min-height: 500px; background: rgba(8, 18, 37, 0.8);">
            <div id="messagesBox"
                style="flex: 1; overflow-y: auto; padding: 1.5rem; display: flex; flex-direction: column; gap: 1rem;">
                <div
                    style="align-self: flex-start; background: rgba(255, 255, 255, 0.1); padding: 0.75rem 1rem; border-radius: 12px 12px 12px 0; max-width: 80%;">
                    <strong style="color: #4d7cff;">ğŸ¤– AI</strong><br>
                    Xin chÃ o! TÃ´i sáºµn sÃ ng tÆ° váº¥n cho báº¡n dá»±a trÃªn káº¿t quáº£ RIASEC. Nháº¥n nÃºt "YÃªu cáº§u tÆ° váº¥n" bÃªn dÆ°á»›i Ä‘á»ƒ
                    báº¯t Ä‘áº§u.
                </div>
            </div>

            <div style="border-top: 1px solid rgba(30, 42, 68, 0.5); padding: 1rem; display: flex; gap: 0.75rem;">
                <input type="text" id="chatInput" placeholder="Há»i AI vá» hÆ°á»›ng nghiá»‡p cá»§a báº¡n..."
                    style="flex: 1; padding: 0.75rem; border-radius: 8px; border: 1px solid #2a3b66; background: #081225; color: #fff;">
                <button class="btn btn-primary" onclick="sendChatMessage()"
                    style="padding: 0.75rem 1.5rem;">Gá»­i</button>
            </div>
        </div>

        <div style="display: flex; gap: 1rem; margin-top: 1.5rem; flex-wrap: wrap; justify-content: center;">
            <button class="btn btn-primary" id="consultBtn" onclick="requestCounsel()">âœ¨ YÃªu cáº§u tÆ° váº¥n</button>
            <button class="btn btn-secondary" onclick="goPage('results')">â† Quay láº¡i káº¿t quáº£</button>
        </div>

        <div id="loadingIndicator" style="text-align: center; color: #9fb7ff; margin-top: 1rem; display: none;">
            <span>â³ Äang chá» AI pháº£n há»“i...</span>
        </div>
    </div>
</section>
{% endblock %}