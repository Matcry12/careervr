{% extends "base.html" %}

{% block title %}T∆∞ v·∫•n AI - CareerGo{% endblock %}
{% block loading_text %}ü§ñ AI ƒëang suy nghƒ©...{% endblock %}

{% block content %}
<section class="page active" id="chatbot">
    <div class="results-container" style="padding-bottom: 3rem;">
        <h1 class="section-title">T∆∞ v·∫•n AI h∆∞·ªõng nghi·ªáp</h1>
        <div class="journey-stepper" aria-label="H√†nh tr√¨nh h∆∞·ªõng nghi·ªáp">
            <div class="journey-step"><span class="step-dot">1</span><span>Tr·∫Øc nghi·ªám</span></div>
            <div class="journey-step"><span class="step-dot">2</span><span>K·∫øt qu·∫£</span></div>
            <div class="journey-step"><span class="step-dot">3</span><span>VR</span></div>
            <div class="journey-step active"><span class="step-dot">4</span><span>AI Chat</span></div>
        </div>
        <div class="journey-next panel">
            <strong>B∆∞·ªõc ti·∫øp theo</strong>
            <p class="muted">D√πng AI ƒë·ªÉ h·ªèi v·ªÅ ng√†nh h·ªçc, l·ªô tr√¨nh k·ªπ nƒÉng, v√† sau ƒë√≥ ƒë·ªëi chi·∫øu l·∫°i v·ªõi k·∫øt qu·∫£/VR.</p>
            <div class="center-actions">
                <button class="btn btn-secondary" onclick="goPage('results')">Xem l·∫°i K·∫øt qu·∫£</button>
                <button class="btn btn-secondary" onclick="goPage('vr-mode')">M·ªü Tr·∫£i nghi·ªám VR</button>
            </div>
        </div>

        <div class="test-section panel-soft">
            <h3>H·ªì s∆° c·ªßa b·∫°n</h3>
            <div id="chatContext" class="muted">Ch∆∞a c√≥ d·ªØ li·ªáu. Vui l√≤ng l√†m tr·∫Øc nghi·ªám tr∆∞·ªõc.</div>
        </div>

        <div id="chatSessionBanner" class="status status-info" role="status" aria-live="polite">
            Ch∆∞a b·∫Øt ƒë·∫ßu phi√™n t∆∞ v·∫•n. Nh·∫•n "Y√™u c·∫ßu t∆∞ v·∫•n" ƒë·ªÉ m·ªü phi√™n.
        </div>

        <div id="chatContainer" class="chat-shell">
            <div id="messagesBox" class="chat-messages">
                <div class="chat-message ai">
                    Xin ch√†o! T√¥i s·∫µn s√†ng t∆∞ v·∫•n cho b·∫°n d·ª±a tr√™n k·∫øt qu·∫£ RIASEC. Nh·∫•n n√∫t "Y√™u c·∫ßu t∆∞ v·∫•n" b√™n d∆∞·ªõi ƒë·ªÉ
                    b·∫Øt ƒë·∫ßu.
                </div>
            </div>

            <div class="chat-input-row">
                <input type="text" id="chatInput" class="input" placeholder="Nh·∫•n 'Y√™u c·∫ßu t∆∞ v·∫•n' ƒë·ªÉ b·∫Øt ƒë·∫ßu."
                    disabled>
                <button id="chatSendBtn" class="btn btn-primary" onclick="sendChatMessage()" disabled>G·ª≠i</button>
            </div>
        </div>

        <div class="center-actions">
            <button class="btn btn-primary" id="consultBtn" onclick="requestCounsel()">‚ú® Y√™u c·∫ßu t∆∞ v·∫•n</button>
            <button class="btn btn-secondary" onclick="goPage('results')">‚Üê Quay l·∫°i k·∫øt qu·∫£</button>
        </div>

        <div id="chatStatus" class="status" role="status" aria-live="polite"></div>
    </div>
</section>
{% endblock %}
